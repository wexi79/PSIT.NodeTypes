{namespace neos=Neos\Neos\ViewHelpers}
<div{attributes -> f:format.raw()}>
<figure{f:if(condition: imageClassName, then: ' class="{imageClassName}"')}>
<f:render partial="SimpleImage" arguments="{_all}" />
<f:if condition="{hasCaption}">
    <figcaption>
        {neos:contentElement.editable(property: 'caption', node: node)}
    </figcaption>
</f:if>
</figure>
</div>